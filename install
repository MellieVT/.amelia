# Install Homebrew
[ $(command -v brew) == "" ] && ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

# Install zsh from Homebrew if it hasn't been already (macOS one is OLD)
[ ! -e /usr/local/bin/zsh ] && brew install zsh zsh-completions

# Install oh-my-zsh
[ ! -e ~/.oh-my-zsh ] && git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh

# Link git config
ln -sf ~/.rika/gitconfig ~/.gitconfig

# Link .zshrc
ln -sf ~/.rika/zshrc ~/.zshrc

# Link .taskrc
ln -sf ~/.rika/taskrc ~/.taskrc

touch ~/.hushlogin

# Change current shell to zsh
TEST_CURRENT_SHELL=$(expr "$SHELL" : '.*/\(.*\)')
if [ "$TEST_CURRENT_SHELL" != "zsh" ]; then
	chsh -s $(grep /zsh$ /etc/shells | tail -1)
fi
